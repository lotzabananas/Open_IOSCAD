name: Unit Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: macos-14
    steps:
      - uses: actions/checkout@v4
      - name: GeometryKernel Tests
        run: swift test --package-path GeometryKernel
      - name: Build App
        run: |
          xcodebuild \
            -scheme 'OpeniOSCAD' \
            -project 'OpeniOSCAD.xcodeproj' \
            -configuration Debug \
            -sdk 'iphonesimulator' \
            -destination 'generic/platform=iOS Simulator' \
            -derivedDataPath build \
            -quiet
